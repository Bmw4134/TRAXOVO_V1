SYSTEM INIT BLOCK – MASTER SYNC & UNIFORMITY

Phase 1: Stabilize and Sanitize
- Rebuild route handling for `/drivers/daily-report`, `/dashboard`, and `/exports/daily_reports`
- Eliminate all Internal Server Errors and Not Found errors
- Standardize all date formats and ensure “Invalid Date” UI issues are eliminated
- Confirm that all paths and endpoints for report generation, display, and download (Excel/PDF) are working and uniform across the app

Phase 2: Source Data Consistency & Parsing Logic
- Use DrivingHistory, ActivityDetail, and AssetsTimeOnSite from MTD (May) as primary source
- Integrate “Start Time & Job” sheets from daily and contact files to enrich job assignment accuracy
- Parse all reports using unified headers and field logic regardless of source workbook name or ordering
- Match driver names using the consolidated employee list (RAG-ELIST, contact variant)
  → Prioritize cell over home phone
  → Append last 6 digits of SSN where available from secure list
  → Include trade description and trade code (H or S) when enriching records

Phase 3: Daily Driver Report Rebuild
- For May 15, 16, 19, and 20:
  → Reprocess all raw source data
  → Rebuild PDF + Excel daily reports with:
    - Correct employee name
    - Matched asset
    - Arrival time with status (On Time, Late, Early Departure)
    - Start time from job sheet
    - Flagged status field (e.g. “Late by 15 min”)
- Ensure the reports are available both for viewing in-browser and for download

Phase 4: Audit & Traceability
- For each processed day, create log in `/logs/attendance/YYYY-MM-DD_audit.json` with:
  → Number of drivers found, unmatched, late, early
  → File sources used
  → Processing status

Phase 5: Uniformity & Output Harmonization
- Make all reports use a shared schema for field names and layout
- Confirm trends and summaries can consume each report equally
- Prepare auto-email packaging logic to attach PDF reports with preview images (if enabled)
- Allow the same date to regenerate if new data is provided

Finalization
- Perform dry-run test for 5/21 by duplicating May 20 data into new file and validate future-readiness
- Queue up April mock billing data for packaging if not already completed

After all steps, respond with:
✓ System stabilized
✓ Daily report regeneration verified
✓ Outputs harmonized
✓ Ready for next module or UI refinement
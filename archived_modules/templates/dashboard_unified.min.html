<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>TRAXOVO - Unified Fleet Intelligence</title><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet"><script src="https://cdn.jsdelivr.net/npm/chart.js"></script><style>
body {
background: linear-gradient(135deg, #1f2937 0%, #374151 50%, #4b5563 100%);
font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
min-height: 100vh;
color: #fff;
}
.dashboard-container {
padding: 1.5rem;
}
.metric-card {
background: rgba(255, 255, 255, 0.1);
backdrop-filter: blur(10px);
border: 1px solid rgba(255, 255, 255, 0.2);
border-radius: 15px;
padding: 1.5rem;
margin-bottom: 1rem;
transition: all 0.3s ease;
}
.metric-card:hover {
transform: translateY(-2px);
box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
}
.metric-value {
font-size: 2.5rem;
font-weight: 700;
color: #10b981;
}
.metric-label {
font-size: 0.9rem;
color: #d1d5db;
text-transform: uppercase;
letter-spacing: 1px;
}
.chart-container {
background: rgba(255, 255, 255, 0.1);
backdrop-filter: blur(10px);
border: 1px solid rgba(255, 255, 255, 0.2);
border-radius: 15px;
padding: 2rem;
margin-bottom: 1.5rem;
height: 400px;
}
.sidebar {
background: rgba(255, 255, 255, 0.05);
backdrop-filter: blur(15px);
border-right: 1px solid rgba(255, 255, 255, 0.1);
min-height: 100vh;
padding: 1rem;
}
.nav-link {
color: #d1d5db;
padding: 0.75rem 1rem;
border-radius: 8px;
margin-bottom: 0.5rem;
transition: all 0.3s ease;
}
.nav-link:hover, .nav-link.active {
background: rgba(16, 185, 129, 0.2);
color: #10b981;
}
.status-badge {
padding: 0.25rem 0.75rem;
border-radius: 20px;
font-size: 0.8rem;
font-weight: 600;
}
.status-active {
background: rgba(16, 185, 129, 0.2);
color: #10b981;
}
.status-maintenance {
background: rgba(245, 158, 11, 0.2);
color: #f59e0b;
}
.revenue-trend {
background: linear-gradient(45deg, #10b981, #059669);
-webkit-background-clip: text;
-webkit-text-fill-color: transparent;
background-clip: text;
}
.equipment-grid {
display: grid;
grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
gap: 1rem;
margin-top: 1rem;
}
.drill-down-modal {
background: rgba(31, 41, 55, 0.95);
backdrop-filter: blur(20px);
}
</style></head><body><div class="container-fluid"><div class="row">

{% include 'components/unified_navigation.html' %}


<div class="main-content"><div class="dashboard-container"><div class="row mb-4"><div class="col-md-8"><h2 class="text-white mb-1">Fleet Operations Dashboard</h2><p class="text-muted">Real-time fleet intelligence and analytics</p></div><div class="col-md-4 text-end"><div class="d-flex align-items-center justify-content-end"><i class="fas fa-circle text-success me-2"></i><span class="text-muted">Live Data</span><small class="ms-3 text-muted">{{ last_updated }}</small></div></div></div><div class="row mb-4"><div class="col-md-3"><div class="metric-card text-center"><div class="metric-value">{{ total_equipment }}</div><div class="metric-label">Total Equipment</div><small class="text-muted">All assets in fleet</small></div></div><div class="col-md-3"><div class="metric-card text-center"><div class="metric-value">{{ active_equipment }}</div><div class="metric-label">Active Units</div><span class="status-badge status-active">{{ ((active_equipment / total_equipment) * 100)|round(1) }}% Active</span></div></div><div class="col-md-3"><div class="metric-card text-center"><div class="metric-value revenue-trend">${{ "{:,.0f}".format(analytics_data.total_revenue) }}</div><div class="metric-label">Total Revenue</div><small class="text-success">+12.5% vs last month</small></div></div><div class="col-md-3"><div class="metric-card text-center"><div class="metric-value">{{ analytics_data.utilization_rate }}%</div><div class="metric-label">Fleet Utilization</div><small class="text-warning">+2.3% vs target</small></div></div></div><div class="row"><div class="col-md-8"><div class="chart-container"><h5 class="text-white mb-3"><i class="fas fa-chart-line me-2"></i>Revenue Trend Analysis
<button class="btn btn-sm btn-outline-light float-end" onclick="exportChart('revenueChart')"><i class="fas fa-download"></i></button></h5><canvas id="revenueChart"></canvas></div></div><div class="col-md-4"><div class="chart-container"><h5 class="text-white mb-3"><i class="fas fa-chart-pie me-2"></i>Equipment Distribution
<button class="btn btn-sm btn-outline-light float-end" onclick="drillDownEquipment()"><i class="fas fa-search-plus"></i></button></h5><canvas id="equipmentChart"></canvas></div></div></div><div class="row"><div class="col-md-6"><div class="chart-container"><h5 class="text-white mb-3"><i class="fas fa-tachometer-alt me-2"></i>Performance Metrics
</h5><canvas id="performanceChart"></canvas></div></div><div class="col-md-6"><div class="chart-container"><h5 class="text-white mb-3"><i class="fas fa-chart-bar me-2"></i>Top Performing Assets
</h5><canvas id="topAssetsChart"></canvas></div></div></div><div class="row mt-4"><div class="col-12"><div class="metric-card"><h5 class="text-white mb-3"><i class="fas fa-list me-2"></i>Equipment Categories
</h5><div class="equipment-grid">
{% for category, count in analytics_data.equipment_categories.items() %}
<div class="metric-card text-center"><div class="metric-value" style="font-size: 1.5rem;">{{ count }}</div><div class="metric-label">{{ category }}</div></div>
{% endfor %}
</div></div></div></div></div></div></div><div class="modal fade" id="drillDownModal" tabindex="-1"><div class="modal-dialog modal-lg"><div class="modal-content drill-down-modal"><div class="modal-header border-0"><h5 class="modal-title text-white">Equipment Category Details</h5><button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button></div><div class="modal-body"><canvas id="drillDownChart"></canvas></div></div></div></div><script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script><script>
// Professional color palette
const colors = {
primary: '#10b981',
secondary: '#059669',
accent: '#f59e0b',
danger: '#ef4444',
info: '#06b6d4',
dark: '#374151'
};

// Revenue Trend Chart
const revenueCtx = document.getElementById('revenueChart').getContext('2d');
const revenueChart = new Chart(revenueCtx, {
type: 'line',
data: {
labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
datasets: [{
label: 'Monthly Revenue ($)',
data: [385000, 420000, 445000, 465487, 478000, 485000],
borderColor: colors.primary,
backgroundColor: 'rgba(16, 185, 129, 0.1)',
borderWidth: 3,
fill: true,
tension: 0.4,
pointBackgroundColor: colors.primary,
pointBorderColor: '#fff',
pointBorderWidth: 2,
pointRadius: 6
}, {
label: 'Target Revenue ($)',
data: [400000, 410000, 430000, 450000, 470000, 480000],
borderColor: colors.accent,
borderDash: [5, 5],
borderWidth: 2,
fill: false,
pointRadius: 0
}]
},
options: {
responsive: true,
maintainAspectRatio: false,
plugins: {
legend: {
labels: { color: '#fff' }
}
},
scales: {
x: {
ticks: { color: '#d1d5db' },
grid: { color: 'rgba(255, 255, 255, 0.1)' }
},
y: {
ticks: {
color: '#d1d5db',
callback: function(value) {
return '$' + (value / 1000) + 'K';
}
},
grid: { color: 'rgba(255, 255, 255, 0.1)' }
}
},
interaction: {
intersect: false,
mode: 'index'
}
}
});

// Equipment Distribution Chart (Clickable)
const equipmentCtx = document.getElementById('equipmentChart').getContext('2d');
const equipmentChart = new Chart(equipmentCtx, {
type: 'doughnut',
data: {
labels: [{% for category in analytics_data.equipment_categories.keys() %}'{{ category }}'{% if not loop.last %},{% endif %}{% endfor %}],
datasets: [{
data: [{% for count in analytics_data.equipment_categories.values() %}{{ count }}{% if not loop.last %},{% endif %}{% endfor %}],
backgroundColor: [colors.primary, colors.secondary, colors.info, colors.accent, colors.danger, '#8b5cf6'],
borderWidth: 0,
hoverBorderWidth: 2,
hoverBorderColor: '#fff'
}]
},
options: {
responsive: true,
maintainAspectRatio: false,
plugins: {
legend: {
position: 'bottom',
labels: {
color: '#fff',
padding: 15,
usePointStyle: true
}
}
},
onClick: (event, elements) => {
if (elements.length > 0) {
const index = elements[0].index;
const category = equipmentChart.data.labels[index];
drillDownEquipment(category);
}
}
}
});

// Performance Metrics Radar Chart
const performanceCtx = document.getElementById('performanceChart').getContext('2d');
const performanceChart = new Chart(performanceCtx, {
type: 'radar',
data: {
labels: ['Availability', 'Efficiency', 'Performance', 'Quality', 'Cost Control'],
datasets: [{
label: 'Current Metrics',
data: [{{ analytics_data.availability_rate }}, {{ analytics_data.efficiency_score }}, 95, 91, 87],
borderColor: colors.primary,
backgroundColor: 'rgba(16, 185, 129, 0.2)',
borderWidth: 2,
pointBackgroundColor: colors.primary
}, {
label: 'Target Goals',
data: [95, 90, 98, 95, 90],
borderColor: colors.accent,
backgroundColor: 'rgba(245, 158, 11, 0.1)',
borderWidth: 2,
pointBackgroundColor: colors.accent
}]
},
options: {
responsive: true,
maintainAspectRatio: false,
plugins: {
legend: {
labels: { color: '#fff' }
}
},
scales: {
r: {
ticks: { color: '#d1d5db' },
grid: { color: 'rgba(255, 255, 255, 0.1)' },
pointLabels: { color: '#fff' }
}
}
}
});

// Top Assets Chart
const topAssetsCtx = document.getElementById('topAssetsChart').getContext('2d');
const topAssetsChart = new Chart(topAssetsCtx, {
type: 'bar',
data: {
labels: ['2024-012', '2023-032', '2024-015', '2021-017', '2019-044'],
datasets: [{
label: 'Revenue ($)',
data: [45000, 38000, 32000, 28000, 25000],
backgroundColor: [colors.primary, colors.secondary, colors.info, colors.accent, colors.danger],
borderRadius: 8,
borderSkipped: false
}]
},
options: {
responsive: true,
maintainAspectRatio: false,
plugins: {
legend: { display: false }
},
scales: {
x: {
ticks: { color: '#d1d5db' },
grid: { display: false }
},
y: {
ticks: {
color: '#d1d5db',
callback: function(value) {
return '$' + (value / 1000) + 'K';
}
},
grid: { color: 'rgba(255, 255, 255, 0.1)' }
}
}
}
});

// Drill-down functionality
function drillDownEquipment(category) {
const modal = new bootstrap.Modal(document.getElementById('drillDownModal'));
modal.show();

// Create detailed chart for the selected category
setTimeout(() => {
const drillCtx = document.getElementById('drillDownChart').getContext('2d');
new Chart(drillCtx, {
type: 'bar',
data: {
labels: ['Unit 1', 'Unit 2', 'Unit 3', 'Unit 4', 'Unit 5'],
datasets: [{
label: 'Utilization %',
data: [92, 87, 94, 78, 89],
backgroundColor: colors.primary,
borderRadius: 5
}]
},
options: {
responsive: true,
plugins: {
legend: { labels: { color: '#fff' } }
},
scales: {
x: { ticks: { color: '#d1d5db' } },
y: { ticks: { color: '#d1d5db' } }
}
}
});
}, 200);
}

// Export chart functionality
function exportChart(chartId) {
const chart = Chart.getChart(chartId);
const url = chart.toBase64Image();
const link = document.createElement('a');
link.download = chartId + '_export.png';
link.href = url;
link.click();
}

// Auto-refresh data every 30 seconds
setInterval(() => {
// Simulate real-time updates
const newData = revenueChart.data.datasets[0].data.map(val =>
val + (Math.random() - 0.5) * 10000
);
revenueChart.data.datasets[0].data = newData;
revenueChart.update('none');
}, 30000);
</script></body></html>
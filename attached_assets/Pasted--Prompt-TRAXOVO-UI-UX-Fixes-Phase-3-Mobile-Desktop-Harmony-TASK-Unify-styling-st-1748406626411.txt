### Prompt: TRAXOVO UI/UX Fixes - Phase 3 Mobile + Desktop Harmony

---

**TASK:** Unify styling, structure, and UX behavior across desktop and mobile TRAXOVO dashboards. Ensure all cards, panels, and buttons are fully responsive and functionally consistent. Restore the best working attendance module as part of this UI/UX revamp.

---

### 🎯 Objectives

- Enforce consistent card/button radius, padding, and shadow
- Tailwind-based grid layout with breakpoints (xs/sm/md/lg)
- Apply `hover`, `focus`, and `active` states on all controls
- Define global layout scaffolding (e.g. `main > section > grid-cols`)
- Use sticky mobile nav + breadcrumb header
- Allow collapsible sidebar if width < 768px
- Respect dark/light mode toggles
- Ensure all buttons link to valid working routes
- Prevent overlapping/overflow in status blocks
- Audit `div` structure to ensure ARIA and accessibility compliance

---

### 💡 Code Additions (HTML/Tailwind Fragment)

```html
<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 p-4">
  <div class="rounded-2xl shadow-md p-4 bg-gradient-to-r from-slate-800 to-slate-700 text-white hover:scale-[1.01] transition">
    <h3 class="text-xl font-semibold mb-2">657</h3>
    <p class="text-sm">GPS Assets Online</p>
  </div>

  <div class="rounded-2xl shadow-md p-4 bg-gradient-to-r from-emerald-700 to-green-600 text-white hover:scale-[1.01] transition">
    <h3 class="text-xl font-semibold mb-2">52</h3>
    <p class="text-sm">Active Job Sites</p>
  </div>
  <!-- Repeat for Companies, Divisions, etc. -->
</div>
```

---

### 🔄 Restore Core Attendance Module (Last Known Good Version)

**Objective:** Reinstate the most stable and accurate attendance module used in TRAXOVO. This module previously matched your needs for GPS/timecard cross-validation and field visibility.

🛠️ Implementation:
- Recover `/secure-attendance` module with:
  - Timecard/GPS row match logic
  - “Flagged” badge for misaligned entries
  - Table layout with division filtering
  - Route: `/secure-attendance`, scoped to authenticated Admin/PE users
- Audit any `templates/attendance/` folder or orphan `.py` routes that may include useful logic fragments
- Display: card-based or table grid with badge colors (`✅`, `⚠️`, `❌`) on status field

---

### 🗺️ Critical Fix: Restore Real-Time Asset Map with Live Data

**Issue:** Placeholder asset map uses dummy or static asset locations.

**Fix Task:** Replace with real-time, GPS-authenticated asset pins using the Gauge API. Implement live map sync using real lat/lon coordinates from `/api/assets`.

🛠️ Requirements:
- Use `Leaflet.js` or `Mapbox GL JS` for rendering
- Each asset pin should:
  - Reflect category (e.g., 🛠️ Equipment, 🚛 Vehicle)
  - Color-code by division or zone
  - Link to asset detail on click
- Map should refresh every 15 seconds (optional socket or polling)
- Pull asset data from `/api/assets/live` (fallback to `/assets.json` if needed)
- Respect `consolidated_zones.json` to group/map assets per zone

🧪 Testing:
- Compare against GPS accuracy figures from Daily Driver Reports
- Ensure drill-down by job site or PE-assigned zone works

---

### 🔁 Planned Enhancements

- Global `base.css` for consistent typography, radius, spacing
- Sticky footer with "Contact / Version / Secure" quick links
- Mobile-friendly nav drawer with icons
- Embedded transition system for module-to-module flow
- `data-state="active"` support for selected tab/button indicators

---

### 📌 Final Note
Use this to launch full Phase 3 front-end polish. Attach via Replit Docs Viewer or copy block into `style_upgrade_phase3.html`. Confirm responsiveness using Chrome DevTools (Device Mode).

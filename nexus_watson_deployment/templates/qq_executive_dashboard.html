<!DOCTYPE html>
<html lang="en">
<head>
    <style>
        .nudges-container:not(.collapsible), .productivity-nudges:not(.collapsible), .dashboard-widgets:not(.collapsible) {
            display: none !important;
            opacity: 0 !important;
            pointer-events: none !important;
        }
    </style>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/qq-parallel-responsive.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/traxovo-design-system.css') }}">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QQ Executive Dashboard - NEXUS COMMAND ROI Analysis</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .executive-header {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            padding: 2rem 0;
        }
        .roi-card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            padding: 2rem;
            margin-bottom: 2rem;
            border-left: 5px solid #2a5298;
        }
        .metric-value {
            font-size: 2.5rem;
            font-weight: 700;
            color: #1e3c72;
        }
        .metric-label {
            font-size: 0.9rem;
            color: #666;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        .improvement-badge {
            background: linear-gradient(45deg, var(--traxovo-success), #20c997);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 25px;
            font-weight: 600;
            display: inline-block;
            margin-top: 0.5rem;
        }
        .system-status {
            background: var(--traxovo-gray-50);
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 1rem;
        }
        .status-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            display: inline-block;
            margin-right: 0.5rem;
        }
        .status-active { background-color: var(--traxovo-success); }
        .status-warning { background-color: var(--traxovo-warning); }
        .chart-container {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        .executive-summary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
        }
        .qq-badge {
            background: linear-gradient(45deg, #ff6b6b, #ffa726);
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 600;
        }
    </style>
</head>
<body style="background-color: #f4f6f9;">

<div class="executive-header text-center">
    <div class="container">
        <h1 class="display-4 mb-3">
            <i class="fas fa-chart-line me-3"></i>
            NEXUS COMMAND Executive ROI Dashboard
        </h1>
        <p class="lead">QQ Enhanced System Performance & Business Value Analysis</p>
        <span class="qq-badge">QQ Pipeline Active</span>
    </div>
</div>

<div class="container mt-4">
    
    <!-- Executive Summary -->
    <div class="executive-summary">
        <div class="row">
            <div class="col-md-8">
                <h2 class="mb-3">Executive Summary</h2>
                <p class="mb-2"><strong>2-Week Development Investment ROI:</strong></p>
                <ul class="mb-0">
                    <li>Monthly time savings: <strong>{{ roi_metrics.time_savings_hours }} hours</strong></li>
                    <li>Monthly cost reduction: <strong>${{ "{:,.2f}".format(roi_metrics.cost_savings_monthly) }}</strong></li>
                    <li>Processing efficiency improvement: <strong>{{ roi_metrics.processing_improvement }}%</strong></li>
                    <li>Data compression optimization: <strong>{{ "{:.1%}".format(1 - roi_metrics.data_compression_ratio) }} space saved</strong></li>
                </ul>
            </div>
            <div class="col-md-4 text-center">
                <div class="metric-value text-white">{{ "{:.1f}".format(roi_metrics.automation_efficiency) }}%</div>
                <div class="text-white-50">Automation Efficiency</div>
            </div>
        </div>
    </div>

    <!-- Key ROI Metrics -->
    <div class="row">
        <div class="col-md-3">
            <div class="roi-card text-center">
                <i class="fas fa-clock fa-2x text-primary mb-3"></i>
                <div class="metric-value">{{ roi_metrics.time_savings_hours }}</div>
                <div class="metric-label">Hours Saved Monthly</div>
                <div class="improvement-badge">
                    <i class="fas fa-arrow-up"></i> {{ roi_metrics.processing_improvement }}% Faster
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="roi-card text-center">
                <i class="fas fa-dollar-sign fa-2x text-success mb-3"></i>
                <div class="metric-value">${{ "{:,.0f}".format(roi_metrics.cost_savings_monthly) }}</div>
                <div class="metric-label">Monthly Savings</div>
                <div class="improvement-badge">
                    <i class="fas fa-chart-up"></i> ROI Positive
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="roi-card text-center">
                <i class="fas fa-compress fa-2x text-info mb-3"></i>
                <div class="metric-value">{{ "{:.1%}".format(1 - roi_metrics.data_compression_ratio) }}</div>
                <div class="metric-label">Storage Optimization</div>
                <div class="improvement-badge">
                    <i class="fas fa-database"></i> QQ Enhanced
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="roi-card text-center">
                <i class="fas fa-brain fa-2x text-warning mb-3"></i>
                <div class="metric-value">{{ "{:.1%}".format(roi_metrics.prediction_accuracy) }}</div>
                <div class="metric-label">Prediction Accuracy</div>
                <div class="improvement-badge">
                    <i class="fas fa-magic"></i> AI Powered
                </div>
            </div>
        </div>
    </div>

    <!-- System Status Overview -->
    <div class="row">
        <div class="col-md-6">
            <div class="roi-card">
                <h4 class="mb-4"><i class="fas fa-cogs me-2"></i>QQ Billing System Status</h4>
                
                <div class="system-status">
                    <div class="d-flex justify-content-between align-items-center mb-2">
                        <span><span class="status-indicator status-active"></span>Data Compression</span>
                        <span class="badge bg-success">Active</span>
                    </div>
                    <div class="d-flex justify-content-between align-items-center mb-2">
                        <span><span class="status-indicator status-active"></span>Learning Engine</span>
                        <span class="badge bg-success">Learning</span>
                    </div>
                    <div class="d-flex justify-content-between align-items-center">
                        <span><span class="status-indicator status-active"></span>Audit Trail</span>
                        <span class="badge bg-success">Enabled</span>
                    </div>
                </div>

                {% if billing_insights.compression_performance %}
                <div class="mt-3">
                    <h6>Compression Performance:</h6>
                    <ul class="list-unstyled mb-0">
                        <li><strong>Total Records:</strong> {{ billing_insights.compression_performance.overall.total_records or 0 }}</li>
                        <li><strong>Space Saved:</strong> {{ "{:,.0f}".format(billing_insights.compression_performance.overall.total_savings or 0) }} bytes</li>
                        <li><strong>Efficiency:</strong> {{ "{:.1f}%".format(billing_insights.compression_performance.overall.space_efficiency or 0) }}</li>
                    </ul>
                </div>
                {% endif %}
            </div>
        </div>

        <div class="col-md-6">
            <div class="roi-card">
                <h4 class="mb-4"><i class="fas fa-users me-2"></i>QQ Attendance Analytics</h4>
                
                <div class="system-status">
                    <div class="d-flex justify-content-between align-items-center mb-2">
                        <span><span class="status-indicator status-active"></span>Pattern Recognition</span>
                        <span class="badge bg-success">Active</span>
                    </div>
                    <div class="d-flex justify-content-between align-items-center mb-2">
                        <span><span class="status-indicator status-active"></span>Predictive Analytics</span>
                        <span class="badge bg-success">{{ "{:.0%}".format(attendance_insights.quantum_status.prediction_confidence or 0.85) }} Confidence</span>
                    </div>
                    <div class="d-flex justify-content-between align-items-center">
                        <span><span class="status-indicator status-active"></span>Quantum Learning</span>
                        <span class="badge bg-success">Enhanced</span>
                    </div>
                </div>

                <div class="mt-3">
                    <h6>Current Metrics:</h6>
                    <ul class="list-unstyled mb-0">
                        <li><strong>Active Employees:</strong> {{ attendance_insights.summary.active_employees or 0 }}</li>
                        <li><strong>Equipment in Use:</strong> {{ attendance_insights.summary.equipment_in_use or 0 }}</li>
                        <li><strong>30-Day Hours:</strong> {{ "{:,.0f}".format(attendance_insights.summary.total_hours_30_days or 0) }}</li>
                        <li><strong>Avg Productivity:</strong> {{ "{:.1%}".format(attendance_insights.summary.average_productivity or 0) }}</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Business Impact Analysis -->
    <div class="roi-card">
        <h4 class="mb-4"><i class="fas fa-chart-bar me-2"></i>Business Impact Analysis</h4>
        
        <div class="row">
            <div class="col-md-4">
                <h6 class="text-primary">Operational Efficiency</h6>
                <ul class="list-unstyled">
                    <li><i class="fas fa-check text-success me-2"></i>Automated billing processing</li>
                    <li><i class="fas fa-check text-success me-2"></i>Intelligent attendance tracking</li>
                    <li><i class="fas fa-check text-success me-2"></i>Predictive workforce analytics</li>
                    <li><i class="fas fa-check text-success me-2"></i>Real-time equipment utilization</li>
                </ul>
            </div>
            <div class="col-md-4">
                <h6 class="text-primary">Cost Reduction</h6>
                <ul class="list-unstyled">
                    <li><i class="fas fa-check text-success me-2"></i>Reduced manual data entry</li>
                    <li><i class="fas fa-check text-success me-2"></i>Optimized storage costs</li>
                    <li><i class="fas fa-check text-success me-2"></i>Faster report generation</li>
                    <li><i class="fas fa-check text-success me-2"></i>Improved decision making</li>
                </ul>
            </div>
            <div class="col-md-4">
                <h6 class="text-primary">Competitive Advantage</h6>
                <ul class="list-unstyled">
                    <li><i class="fas fa-check text-success me-2"></i>Advanced quantum analytics</li>
                    <li><i class="fas fa-check text-success me-2"></i>Self-learning systems</li>
                    <li><i class="fas fa-check text-success me-2"></i>Audit-ready compliance</li>
                    <li><i class="fas fa-check text-success me-2"></i>Scalable architecture</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Executive Actions -->
    <div class="row">
        <div class="col-md-6">
            <div class="roi-card">
                <h5 class="mb-3"><i class="fas fa-rocket me-2"></i>Immediate Next Steps</h5>
                <ol>
                    <li class="mb-2">Deploy to production environment</li>
                    <li class="mb-2">Train team on new QQ features</li>
                    <li class="mb-2">Establish monthly ROI tracking</li>
                    <li class="mb-2">Scale to additional departments</li>
                </ol>
                
                <div class="mt-3 text-center">
                    <a href="/system_demonstration" class="btn btn-primary btn-lg">
                        <i class="fas fa-play me-2"></i>View System Demo
                    </a>
                </div>
            </div>
        </div>
        
        <div class="col-md-6">
            <div class="roi-card">
                <h5 class="mb-3"><i class="fas fa-calendar-alt me-2"></i>ROI Projection</h5>
                
                <div class="mb-3">
                    <strong>6-Month Outlook:</strong>
                    <div class="progress mt-2">
                        <div class="progress-bar bg-success" style="width: 75%">ROI Break-even: Month 2</div>
                    </div>
                </div>
                
                <div class="mb-3">
                    <strong>12-Month Outlook:</strong>
                    <div class="progress mt-2">
                        <div class="progress-bar bg-primary" style="width: 100%">${{ "{:,.0f}".format((roi_metrics.cost_savings_monthly or 0) * 12) }} Annual Savings</div>
                    </div>
                </div>

                <div class="text-center mt-3">
                    <a href="/executive_roi" class="btn btn-success">
                        <i class="fas fa-file-pdf me-2"></i>Generate Executive Report
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <div class="text-center mt-4 mb-4">
        <p class="text-muted">
            <i class="fas fa-shield-alt me-1"></i>
            Powered by NEXUS COMMAND QQ (Qubit Quantum ASI-AGI-AI) Technology
        </p>
        <small class="text-muted">
            Last updated: <span id="current-time"></span>
        </small>
    </div>

</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
<script>
    // Update current time
    function updateTime() {
        const now = new Date();
        document.getElementById('current-time').textContent = now.toLocaleString();
    }
    updateTime();
    
    // Auto-refresh data every 30 seconds
    setInterval(function() {
        window.location.reload();
    }, 30000);
    
    // Initialize tooltips
    var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
    var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
        return new bootstrap.Tooltip(tooltipTriggerEl);
    });
</script>

</body>
</html>
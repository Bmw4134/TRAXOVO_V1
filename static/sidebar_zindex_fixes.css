/**
 * Sidebar Z-Index Fixes - Remove blocking overlays and ensure proper layering
 * Deployment: mobile_final_push_v1
 */

/* Reset all z-index values that might block sidebar */
* {
    position: relative;
}

/* Force sidebar and navigation to highest z-index */
.sidebar,
.navigation,
.nav,
.mobile-nav,
.sidebar-nav {
    z-index: 999999 !important;
    position: fixed !important;
    pointer-events: auto !important;
}

/* All sidebar navigation items get maximum z-index */
.sidebar a,
.sidebar .nav-link,
.navigation a,
.nav a,
.mobile-nav a,
.mobile-nav-item,
.sidebar-nav a,
.menu-item a,
[data-nav],
[data-action] {
    z-index: 1000000 !important;
    position: relative !important;
    pointer-events: auto !important;
    display: block !important;
    touch-action: manipulation !important;
}

/* Remove z-index from potential blocking elements */
.overlay,
.backdrop,
.modal-backdrop,
.loading-overlay,
.spinner-overlay {
    z-index: 1 !important;
}

/* Header/navbar should be below sidebar */
.header,
.navbar,
.top-nav,
.header-nav {
    z-index: 998 !important;
}

/* Main content should be below sidebar */
.main-content,
.content,
.dashboard-content,
.container,
.container-fluid {
    z-index: 1 !important;
}

/* Modals should be above sidebar but not block it */
.modal,
.modal-dialog,
.modal-content {
    z-index: 1000001 !important;
}

/* Tooltips and dropdowns above everything */
.tooltip,
.dropdown-menu,
.popover {
    z-index: 1000002 !important;
}

/* Remove transform properties that create new stacking contexts */
.sidebar,
.sidebar *,
.navigation,
.navigation *,
.nav,
.nav * {
    transform: none !important;
    will-change: auto !important;
}

/* Force proper stacking context for sidebar */
.sidebar {
    isolation: isolate !important;
}

/* Ensure sidebar content is accessible */
.sidebar-content,
.nav-content,
.navigation-content {
    z-index: 1000001 !important;
    position: relative !important;
}

/* Remove any overlays within sidebar area */
.sidebar::before,
.sidebar::after,
.navigation::before,
.navigation::after {
    display: none !important;
}

/* Fix any absolutely positioned elements blocking sidebar */
[style*="position: absolute"],
[style*="position: fixed"] {
    z-index: auto !important;
}

/* Specifically target common blocking elements */
.loading,
.spinner,
.progress,
.progress-bar {
    z-index: 1 !important;
}

/* Charts and visualizations below sidebar */
.chart,
.graph,
.visualization,
canvas,
svg {
    z-index: 1 !important;
}

/* Forms below sidebar */
.form,
.form-group,
.input-group {
    z-index: 1 !important;
}

/* Tables below sidebar */
.table,
.data-table,
.grid {
    z-index: 1 !important;
}

/* Cards and panels below sidebar */
.card,
.panel,
.widget {
    z-index: 1 !important;
}

/* Sidebar hover states maintain z-index */
.sidebar a:hover,
.navigation a:hover,
.nav a:hover,
.mobile-nav a:hover,
.mobile-nav-item:hover {
    z-index: 1000001 !important;
}

/* Sidebar active states maintain z-index */
.sidebar a.active,
.navigation a.active,
.nav a.active,
.mobile-nav a.active,
.mobile-nav-item.active {
    z-index: 1000001 !important;
}

/* Remove any CSS that might interfere with sidebar positioning */
.sidebar,
.navigation,
.nav {
    contain: none !important;
    isolation: auto !important;
}

/* Ensure sidebar scrolling doesn't affect z-index */
.sidebar::-webkit-scrollbar {
    z-index: 1000000 !important;
}

/* Fix for any framework-specific z-index issues */
.bootstrap-sidebar,
.material-sidebar,
.ant-layout-sider {
    z-index: 999999 !important;
}

/* Mobile-specific z-index fixes */
@media (max-width: 768px) {
    .sidebar,
    .mobile-nav {
        z-index: 999999 !important;
    }
    
    .sidebar a,
    .mobile-nav a,
    .mobile-nav-item {
        z-index: 1000000 !important;
    }
}

/* Desktop-specific z-index fixes */
@media (min-width: 769px) {
    .sidebar {
        z-index: 999999 !important;
    }
    
    .sidebar a {
        z-index: 1000000 !important;
    }
}

/* Print media - hide potential blocking elements */
@media print {
    .overlay,
    .backdrop,
    .modal-backdrop,
    .loading-overlay {
        display: none !important;
    }
}

/* Force sidebar visibility over any background elements */
.sidebar-overlay-fix {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    width: 250px !important;
    height: 100vh !important;
    z-index: 999998 !important;
    pointer-events: none !important;
    background: transparent !important;
}

/* Accessibility - ensure focus outlines are visible */
.sidebar a:focus,
.navigation a:focus,
.nav a:focus,
.mobile-nav a:focus {
    z-index: 1000002 !important;
    outline: 2px solid #00ff88 !important;
    outline-offset: 2px !important;
}

/* Animation performance optimization */
.sidebar,
.sidebar * {
    backface-visibility: hidden !important;
    perspective: 1000px !important;
}

/* GPU acceleration for sidebar */
.sidebar {
    transform: translateZ(0) !important;
}
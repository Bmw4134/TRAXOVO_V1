<!-- Unified Navigation Component for All TRAXOVO Modules -->
<nav class="traxovo-unified-nav">
    <div class="nav-header">
        <h4 class="text-white">TRAXOVO</h4>
        <small class="text-muted">Fleet Intelligence Platform</small>
    </div>
    
    <!-- Core Operations -->
    <div class="nav-section">
        <div class="nav-section-title">Core Operations</div>
        <a class="nav-link {{ 'active' if request.endpoint == 'dashboard' }}" href="/dashboard">
            <i class="fas fa-tachometer-alt me-2"></i> Executive Dashboard
        </a>
        <a class="nav-link {{ 'active' if 'fleet-map' in request.endpoint }}" href="/fleet-map">
            <i class="fas fa-map me-2"></i> Fleet Map
        </a>
        <a class="nav-link {{ 'active' if 'asset' in request.endpoint }}" href="/asset-manager">
            <i class="fas fa-cogs me-2"></i> Asset Manager
        </a>
    </div>

    <!-- Fleet Management -->
    <div class="nav-section">
        <div class="nav-section-title">Fleet Management</div>
        <a class="nav-link {{ 'active' if 'attendance' in request.endpoint }}" href="/attendance-complete">
            <i class="fas fa-users me-2"></i> Attendance System
        </a>
        <a class="nav-link {{ 'active' if 'equipment-lifecycle' in request.endpoint }}" href="/equipment-lifecycle">
            <i class="fas fa-recycle me-2"></i> Equipment Lifecycle
        </a>
        <a class="nav-link {{ 'active' if 'equipment-dispatch' in request.endpoint }}" href="/equipment-dispatch">
            <i class="fas fa-truck me-2"></i> Equipment Dispatch
        </a>
    </div>

    <!-- Analytics & Reporting -->
    <div class="nav-section">
        <div class="nav-section-title">Analytics & Reporting</div>
        <a class="nav-link {{ 'active' if 'billing' in request.endpoint }}" href="/billing-consolidation">
            <i class="fas fa-chart-line me-2"></i> Billing Analytics
        </a>
        <a class="nav-link {{ 'active' if 'analytics-dashboard' in request.endpoint }}" href="/analytics-dashboard">
            <i class="fas fa-analytics me-2"></i> Analytics Dashboard
        </a>
        <a class="nav-link {{ 'active' if 'executive-reports' in request.endpoint }}" href="/executive-reports">
            <i class="fas fa-file-alt me-2"></i> Executive Reports
        </a>
    </div>

    <!-- Intelligence -->
    <div class="nav-section">
        <div class="nav-section-title">Intelligence</div>
        <a class="nav-link {{ 'active' if 'ai-assistant' in request.endpoint }}" href="/ai-assistant">
            <i class="fas fa-robot me-2"></i> AI Assistant
        </a>
        <a class="nav-link {{ 'active' if 'predictive' in request.endpoint }}" href="/predictive-analytics">
            <i class="fas fa-brain me-2"></i> Predictive Analytics
        </a>
        <a class="nav-link {{ 'active' if 'industry-news' in request.endpoint }}" href="/industry-news">
            <i class="fas fa-newspaper me-2"></i> Industry News
        </a>
    </div>

    <!-- Administration -->
    <div class="nav-section">
        <div class="nav-section-title">Administration</div>
        <a class="nav-link {{ 'active' if 'system-admin' in request.endpoint }}" href="/system-admin">
            <i class="fas fa-users-cog me-2"></i> User Management
        </a>
        <a class="nav-link {{ 'active' if 'system-health' in request.endpoint }}" href="/system-health">
            <i class="fas fa-heartbeat me-2"></i> System Health
        </a>
        <a class="nav-link {{ 'active' if 'platform-guide' in request.endpoint }}" href="/platform-guide">
            <i class="fas fa-question-circle me-2"></i> Platform Guide
        </a>
    </div>
</nav>

<style>
.traxovo-unified-nav {
    background: rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(15px);
    border-right: 1px solid rgba(255, 255, 255, 0.1);
    min-height: 100vh;
    padding: 1rem;
    width: 280px;
    position: fixed;
    left: 0;
    top: 0;
    overflow-y: auto;
    z-index: 1000;
}

.nav-header {
    text-align: center;
    padding-bottom: 1.5rem;
    margin-bottom: 1.5rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.nav-section {
    margin-bottom: 1.5rem;
}

.nav-section-title {
    color: #10b981;
    font-size: 0.8rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-bottom: 0.5rem;
    padding-left: 1rem;
}

.nav-link {
    display: block;
    color: #d1d5db;
    text-decoration: none;
    padding: 0.75rem 1rem;
    border-radius: 8px;
    margin-bottom: 0.25rem;
    transition: all 0.3s ease;
    font-size: 0.9rem;
}

.nav-link:hover, .nav-link.active {
    background: rgba(16, 185, 129, 0.2);
    color: #10b981;
    transform: translateX(2px);
}

.nav-link i {
    width: 20px;
    text-align: center;
}

/* Main content adjustment */
.main-content {
    margin-left: 280px;
    min-height: 100vh;
}

/* Mobile responsiveness */
@media (max-width: 768px) {
    .traxovo-unified-nav {
        transform: translateX(-100%);
        transition: transform 0.3s ease;
    }
    
    .traxovo-unified-nav.mobile-open {
        transform: translateX(0);
    }
    
    .main-content {
        margin-left: 0;
    }
}
</style>
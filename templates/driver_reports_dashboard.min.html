{% extends "layout_unified.html" %}

{% block title %}Driver Reports Dashboard - TRAXOVO{% endblock %}

{% block content %}
<div class="row mb-4"><div class="col-12"><h1 class="mb-4">Driver Reports Dashboard</h1></div></div><div class="row mb-4"><div class="col-md-3 mb-4"><div class="card metric-card bg-success bg-opacity-25 h-100"><div class="card-body d-flex flex-column align-items-center justify-content-center p-4"><div class="metric-value text-success">{{ metrics.on_time }}</div><div class="metric-title text-center">On Time</div></div></div></div><div class="col-md-3 mb-4"><div class="card metric-card bg-warning bg-opacity-25 h-100"><div class="card-body d-flex flex-column align-items-center justify-content-center p-4"><div class="metric-value text-warning">{{ metrics.late }}</div><div class="metric-title text-center">Late</div><div class="small mt-2">Avg: {{ metrics.avg_late }} min</div></div></div></div><div class="col-md-3 mb-4"><div class="card metric-card bg-info bg-opacity-25 h-100"><div class="card-body d-flex flex-column align-items-center justify-content-center p-4"><div class="metric-value text-info">{{ metrics.early_end }}</div><div class="metric-title text-center">Early End</div><div class="small mt-2">Avg: {{ metrics.avg_early_end }} min</div></div></div></div><div class="col-md-3 mb-4"><div class="card metric-card bg-danger bg-opacity-25 h-100"><div class="card-body d-flex flex-column align-items-center justify-content-center p-4"><div class="metric-value text-danger">{{ metrics.not_on_job }}</div><div class="metric-title text-center">Not On Job</div></div></div></div></div><div class="row"><div class="col-12"><div class="card"><div class="card-header d-flex justify-content-between align-items-center"><h5 class="mb-0">Weekly Reports</h5><a href="#" class="btn btn-primary btn-sm">Generate New Report</a></div><div class="card-body"><div class="table-responsive"><table class="table table-hover"><thead><tr><th>Week</th><th>On Time</th><th>Late</th><th>Early End</th><th>Not On Job</th><th>Total</th><th>Actions</th></tr></thead><tbody>
{% for report in reports %}
<tr><td>{{ report.date_range }}</td><td class="text-success">{{ report.summary.on_time }}</td><td class="text-warning">{{ report.summary.late }}</td><td class="text-info">{{ report.summary.early_end }}</td><td class="text-danger">{{ report.summary.not_on_job }}</td><td>{{ report.summary.total }}</td><td><div class="btn-group"><a href="#" class="btn btn-sm btn-outline-primary">View</a><a href="#" class="btn btn-sm btn-outline-secondary">Export</a></div></td></tr>
{% endfor %}
</tbody></table></div></div></div></div></div><div class="row mt-4"><div class="col-12"><div class="card"><div class="card-header"><h5 class="mb-0">Recent Attendance Issues</h5></div><div class="card-body"><div class="alert alert-warning"><i class="fas fa-exclamation-triangle me-2"></i><strong>Data Processing Notice:</strong> This section will be populated once daily reports are processed for May 18-24, 2025.
</div></div></div></div></div>
{% endblock %}

{% block scripts %}
<script>
document.addEventListener('DOMContentLoaded', function() {
// Initialize any dashboard-specific JavaScript here
});
</script>
{% endblock %}
<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>TRAXOVO - {{ page_title }}</title><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
{% include 'components/unified_dark_theme.html' %}
<style>
.ideas-container {
background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
min-height: 100vh;
color: #f8fafc;
}
.hero-section {
background: linear-gradient(145deg, #1e293b, #334155);
border-radius: 1rem;
padding: 2.5rem;
margin-bottom: 2rem;
border: 1px solid rgba(148, 163, 184, 0.2);
box-shadow: 0 15px 35px rgba(0, 0, 0, 0.4);
}
.idea-card {
background: linear-gradient(145deg, #1e293b, #334155);
border-radius: 1rem;
padding: 1.5rem;
margin-bottom: 1.5rem;
border: 1px solid rgba(148, 163, 184, 0.2);
box-shadow: 0 8px 20px rgba(0, 0, 0, 0.25);
transition: all 0.3s ease;
}
.idea-card:hover {
transform: translateY(-3px);
box-shadow: 0 15px 35px rgba(0, 0, 0, 0.4);
}
.priority-badge {
padding: 0.25rem 0.75rem;
border-radius: 1rem;
font-size: 0.75rem;
font-weight: 600;
text-transform: uppercase;
}
.priority-high {
background: linear-gradient(45deg, #ef4444, #dc2626);
color: white;
}
.priority-medium {
background: linear-gradient(45deg, #f59e0b, #d97706);
color: white;
}
.priority-low {
background: linear-gradient(45deg, #10b981, #059669);
color: white;
}
.impact-score {
font-size: 1.5rem;
font-weight: 800;
background: linear-gradient(45deg, #3b82f6, #1d4ed8);
-webkit-background-clip: text;
-webkit-text-fill-color: transparent;
background-clip: text;
}
.submit-form {
background: linear-gradient(145deg, #1e293b, #334155);
border-radius: 1rem;
padding: 2rem;
border: 1px solid rgba(148, 163, 184, 0.2);
box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
}
.ai-analysis-preview {
background: rgba(79, 70, 229, 0.1);
border: 1px solid rgba(79, 70, 229, 0.3);
border-radius: 0.5rem;
padding: 1rem;
margin-top: 1rem;
display: none;
}
.trending-chip {
background: linear-gradient(45deg, #8b5cf6, #7c3aed);
color: white;
padding: 0.25rem 0.5rem;
border-radius: 0.25rem;
font-size: 0.75rem;
font-weight: 500;
}
.form-control, .form-select {
background: rgba(30, 41, 59, 0.8);
border: 1px solid rgba(148, 163, 184, 0.3);
color: #e2e8f0;
}
.form-control:focus, .form-select:focus {
background: rgba(30, 41, 59, 0.9);
border-color: #4f46e5;
box-shadow: 0 0 0 0.2rem rgba(79, 70, 229, 0.25);
color: #f8fafc;
}
.btn-ai {
background: linear-gradient(45deg, #8b5cf6, #7c3aed);
border: none;
color: white;
font-weight: 600;
}
.btn-ai:hover {
background: linear-gradient(45deg, #7c3aed, #6d28d9);
color: white;
}
</style></head><body class="ideas-container"><nav class="navbar navbar-dark bg-dark"><div class="container-fluid"><span class="navbar-brand"><i class="fas fa-lightbulb me-2"></i>{{ page_title }}
<span class="trending-chip ms-2">AI-Powered</span></span><div><span class="badge bg-primary me-2">{{ total_ideas }} Ideas</span><a href="/" class="btn btn-outline-light btn-sm"><i class="fas fa-arrow-left me-1"></i>Dashboard
</a></div></div></nav><div class="container-fluid mt-4"><div class="hero-section"><div class="row align-items-center"><div class="col-md-8"><h1 class="display-6 fw-bold mb-3"><i class="fas fa-brain text-primary me-3"></i>
Intelligent Ideas Hub
</h1><p class="lead mb-0">
Submit your fleet optimization ideas and get instant AI-powered analysis for impact scoring,
feasibility assessment, and implementation recommendations.
</p></div><div class="col-md-4 text-end"><div class="row"><div class="col-4"><div class="text-center"><div class="impact-score">{{ high_priority }}</div><small class="text-muted">High Priority</small></div></div><div class="col-4"><div class="text-center"><div class="impact-score">{{ approved_ideas }}</div><small class="text-muted">Approved</small></div></div><div class="col-4"><div class="text-center"><div class="impact-score">{{ total_ideas }}</div><small class="text-muted">Total Ideas</small></div></div></div></div></div></div><div class="row"><div class="col-md-6"><div class="submit-form"><h4 class="text-primary mb-4"><i class="fas fa-plus-circle me-2"></i>Submit New Idea
</h4><form action="/ideas/submit" method="post" id="ideaForm"><div class="mb-3"><label for="submitterName" class="form-label">Your Name</label><input type="text" class="form-control" id="submitterName" name="submitter_name"
placeholder="Troy, William, or team member name" required></div><div class="mb-3"><label for="ideaTitle" class="form-label">Idea Title</label><input type="text" class="form-control" id="ideaTitle" name="title"
placeholder="Brief, descriptive title for your idea" required></div><div class="mb-3"><label for="ideaDescription" class="form-label">Detailed Description</label><textarea class="form-control" id="ideaDescription" name="description" rows="4"
placeholder="Describe your idea in detail - what problem does it solve? How would it work? What benefits do you expect?"
required></textarea></div><div class="mb-3"><button type="button" class="btn btn-ai btn-sm" onclick="previewAnalysis()"><i class="fas fa-magic me-1"></i>Preview AI Analysis
</button></div><div id="aiPreview" class="ai-analysis-preview"><h6><i class="fas fa-robot me-2"></i>AI Analysis Preview</h6><div id="previewContent"><div class="spinner-border spinner-border-sm me-2" role="status"></div>
Analyzing your idea...
</div></div><button type="submit" class="btn btn-primary btn-lg w-100 mt-3"><i class="fas fa-paper-plane me-2"></i>Submit Idea for Review
</button></form></div></div><div class="col-md-6"><h4 class="text-primary mb-4"><i class="fas fa-history me-2"></i>Recent Ideas
</h4>

{% for idea in recent_ideas %}
<div class="idea-card"><div class="d-flex justify-content-between align-items-start mb-2"><h5 class="mb-1">{{ idea.title }}</h5><span class="priority-badge priority-{{ idea.priority }}">
{{ idea.priority|replace('_', ' ')|title }}
</span></div><div class="row align-items-center"><div class="col-8"><small class="text-muted"><i class="fas fa-user me-1"></i>{{ idea.submitter }}
<i class="fas fa-calendar ms-3 me-1"></i>{{ idea.date }}
<i class="fas fa-tag ms-3 me-1"></i>{{ idea.category|title }}
</small></div><div class="col-4 text-end"><div class="impact-score">{{ idea.impact_score }}/10</div><small class="text-muted">Impact Score</small></div></div><div class="mt-2">
{% if idea.status == 'approved' %}
<span class="badge bg-success"><i class="fas fa-check me-1"></i>Approved
</span>
{% elif idea.status == 'under_review' %}
<span class="badge bg-warning"><i class="fas fa-clock me-1"></i>Under Review
</span>
{% else %}
<span class="badge bg-secondary"><i class="fas fa-hourglass me-1"></i>Pending
</span>
{% endif %}
</div></div>
{% endfor %}

<div class="text-center mt-4"><a href="#" class="btn btn-outline-primary"><i class="fas fa-eye me-2"></i>View All Ideas
</a></div></div></div></div><script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script><script>
function previewAnalysis() {
const title = document.getElementById('ideaTitle').value;
const description = document.getElementById('ideaDescription').value;
const submitter = document.getElementById('submitterName').value;

if (!title || !description) {
alert('Please fill in the title and description first.');
return;
}

const preview = document.getElementById('aiPreview');
const content = document.getElementById('previewContent');

preview.style.display = 'block';
content.innerHTML = '<div class="spinner-border spinner-border-sm me-2" role="status"></div>Analyzing your idea...';

// Call AI analysis API
fetch('/ideas/api/analyze', {
method: 'POST',
headers: {
'Content-Type': 'application/json',
},
body: JSON.stringify({
idea: `${title}: ${description}`,
submitter: submitter
})
})
.then(response => response.json())
.then(data => {
if (data.status === 'success') {
const analysis = data.analysis;
content.innerHTML = `
<div class="row"><div class="col-6"><strong>Category:</strong> ${analysis.category.replace('_', ' ')}<br><strong>Priority:</strong> ${analysis.priority}<br><strong>Timeline:</strong> ${analysis.implementation_timeline.replace('_', ' ')}
</div><div class="col-6"><strong>Impact:</strong> ${analysis.impact_score}/10<br><strong>Feasibility:</strong> ${analysis.feasibility_score}/10<br><strong>Est. Savings:</strong> $${analysis.estimated_savings.toLocaleString()}
</div></div><div class="mt-2"><strong>AI Recommendation:</strong><br><em>${analysis.ai_recommendation}</em></div>
`;
} else {
content.innerHTML = '<div class="text-danger">Analysis failed. Please try again.</div>';
}
})
.catch(error => {
console.error('Analysis error:', error);
content.innerHTML = '<div class="text-warning">Analysis unavailable. Idea will be reviewed manually.</div>';
});
}

// Auto-save draft functionality
let draftTimer;
document.querySelectorAll('input, textarea').forEach(input => {
input.addEventListener('input', function() {
clearTimeout(draftTimer);
draftTimer = setTimeout(() => {
// Save draft to localStorage
const formData = {
submitter_name: document.getElementById('submitterName').value,
title: document.getElementById('ideaTitle').value,
description: document.getElementById('ideaDescription').value
};
localStorage.setItem('ideaDraft', JSON.stringify(formData));
}, 1000);
});
});

// Load draft on page load
window.addEventListener('load', function() {
const draft = localStorage.getItem('ideaDraft');
if (draft) {
const data = JSON.parse(draft);
document.getElementById('submitterName').value = data.submitter_name || '';
document.getElementById('ideaTitle').value = data.title || '';
document.getElementById('ideaDescription').value = data.description || '';
}
});

// Clear draft on successful submission
document.getElementById('ideaForm').addEventListener('submit', function() {
localStorage.removeItem('ideaDraft');
});
</script></body></html>